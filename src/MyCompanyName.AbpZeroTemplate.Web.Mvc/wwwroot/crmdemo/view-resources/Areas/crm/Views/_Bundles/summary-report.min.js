var OrganizationTree=function(e){return function(){function t(){var t=!1;e("#OrganizationTreeFilter").keyup(function(){t&&clearTimeout(t),t=setTimeout(function(){var t=e("#OrganizationTreeFilter").val();r.jstree(!0).search(t)},250)})}function n(e){r.jstree("select_node",e,!0);var t=r.jstree("get_parent",e);t&&n(t)}var r;return{init:function(a){(r=a).jstree({types:{default:{icon:"fa fa-folder m--font-warning"},file:{icon:"fa fa-file  m--font-warning"}},checkbox:{keep_selected_style:!1,three_state:!1,cascade:""},search:{show_only_matches:!0},plugins:["types","search","checkbox"]}),r.on("changed.jstree",function(t,a){if(a.node){var o;a.node.state.selected?(n(r.jstree("get_parent",a.node)),o=e.makeArray(r.jstree("get_children_dom",a.node)),r.jstree("select_node",o)):(o=e.makeArray(r.jstree("get_children_dom",a.node)),r.jstree("deselect_node",o))}}),t()},getSelectedOrganizations:function(){for(var e=[],t=r.jstree("get_selected",!0),n=0;n<t.length;n++)e.push(t[n].id);return e}}}}(jQuery);